@page
@model IndexModel
@{
    ViewData["Title"] = "Manage Customer Details";
    Layout = "_DashboardLayout";
}


<div class="card">
    <div class="card-header">
        <h1>Manage Customer Details</h1>
    </div>
    <div class="card-body">
        <table class="table">
            <tr>
                <th>CustomerId</th>
                <th>Namn</th>
                <th></th>
            </tr>
            @foreach (var customer in Model.Customers)
            {
                <tr>
                    <td>@customer.CustomerId</td>
                    <td>@customer.Givenname @customer.Surname</td>
                    <td>
                        <a asp-page="/Customer/Update" asp-route-CustomerId="@customer.CustomerId"><i class='bx bx-edit'></i></a>
                    </td>

                    
                </tr>
            }
        </table>

        <a class="btn" asp-page="/Customer/Create">Create new</a>
    </div>
</div>

@{
    var prevDisabled = Model.PageIndex == 1 ? "disabled" : "";
    var nextDisabled = Model.PageIndex == (int)ViewData["TotalPages"] ? "disabled" : "";
}

<div class="d-flex justify-content-between align-items-center mt-3">
    <a asp-page="./Customers"
       asp-route-searchTerm="@Model.SearchTerm"
       asp-route-sortColumn="@Model.SortColumn"
       asp-route-sortOrder="@Model.SortOrder"
       asp-route-pageIndex="@(Model.PageIndex - 1)"
       class="btn btn-primary @prevDisabled">
        <i class="fas fa-chevron-left"></i> Föregående
    </a>
    <span class="text-muted">Sida @Model.PageIndex av @ViewData["TotalPages"]</span>
    <a asp-page="./Customers"
       asp-route-searchTerm="@Model.SearchTerm"
       asp-route-sortColumn="@Model.SortColumn"
       asp-route-sortOrder="@Model.SortOrder"
       asp-route-pageIndex="@(Model.PageIndex + 1)"
       class="btn btn-primary @nextDisabled">
        Nästa <i class="fas fa-chevron-right"></i>
    </a>
</div>
